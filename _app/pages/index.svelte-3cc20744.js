import{b as k,_ as j}from"../chunks/paths-16c013c9.js";import{S as w,i as R,s as q,j as E,m as I,o as P,x as m,u as d,v as x,e as h,t as G,k as L,l as b,J as N,c as v,a as S,g as A,d as u,n as C,b as p,H as _,f as y,w as D,A as H,r as K}from"../chunks/vendor-07f555be.js";import{G as M}from"../chunks/Gallery-4bcb3b09.js";function $(f){let n,r;return n=new M({props:{streams:f[0]}}),{c(){E(n.$$.fragment)},l(e){I(n.$$.fragment,e)},m(e,c){P(n,e,c),r=!0},p(e,c){const l={};c&1&&(l.streams=e[0]),n.$set(l)},i(e){r||(m(n.$$.fragment,e),r=!0)},o(e){d(n.$$.fragment,e),r=!1},d(e){x(n,e)}}}function T(f){let n,r,e,c,l,i,o,t=f[0].length!==0&&$(f);return{c(){n=h("link"),r=h("link"),e=h("script"),c=G("let parcelRequire;"),l=L(),t&&t.c(),i=b(),this.h()},l(s){const a=N('[data-svelte="svelte-tu3wcf"]',document.head);n=v(a,"LINK",{rel:!0,href:!0}),r=v(a,"LINK",{rel:!0,href:!0}),e=v(a,"SCRIPT",{});var g=S(e);c=A(g,"let parcelRequire;"),g.forEach(u),a.forEach(u),l=C(s),t&&t.l(s),i=b(),this.h()},h(){p(n,"rel","icon"),p(n,"href",""+(k+"/favicon.png")),p(r,"rel","manifest"),p(r,"href",""+(k+"/manifest.json")),document.title="Home"},m(s,a){_(document.head,n),_(document.head,r),_(document.head,e),_(e,c),y(s,l,a),t&&t.m(s,a),y(s,i,a),o=!0},p(s,[a]){s[0].length!==0?t?(t.p(s,a),a&1&&m(t,1)):(t=$(s),t.c(),m(t,1),t.m(i.parentNode,i)):t&&(K(),d(t,1,1,()=>{t=null}),D())},i(s){o||(m(t),o=!0)},o(s){d(t),o=!1},d(s){u(n),u(r),u(e),s&&u(l),t&&t.d(s),s&&u(i)}}}function J(f,n,r){let e=[];return H(async()=>{const l=(await j(()=>import("../chunks/peerjs.min-90eb8cad.js").then(function(o){return o.p}),["chunks/peerjs.min-90eb8cad.js","chunks/vendor-07f555be.js"])).default;let i=new l;i.on("open",o=>{console.log(o)}),i.on("call",o=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(t=>{r(0,e=[t]),o.answer(t),o.on("stream",s=>{e.map(a=>a.id).includes(s.id)||r(0,e=[...e,s])})})})}),[e]}class z extends w{constructor(n){super();R(this,n,J,T,q,{})}}export{z as default};
