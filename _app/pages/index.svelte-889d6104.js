import{_ as g}from"../chunks/preload-helper-549b4fe8.js";import{S as y,i as $,s as b,j as k,m as j,o as w,x as m,u as f,v as q,e as R,t as E,k as P,l as p,J as x,c as G,a as S,g as A,d as u,n as C,H as _,f as d,w as D,A as H,r as I}from"../chunks/vendor-07f555be.js";import{G as M}from"../chunks/Gallery-4bcb3b09.js";function h(i){let a,n;return a=new M({props:{streams:i[0]}}),{c(){k(a.$$.fragment)},l(t){j(a.$$.fragment,t)},m(t,o){w(a,t,o),n=!0},p(t,o){const l={};o&1&&(l.streams=t[0]),a.$set(l)},i(t){n||(m(a.$$.fragment,t),n=!0)},o(t){f(a.$$.fragment,t),n=!1},d(t){q(a,t)}}}function T(i){let a,n,t,o,l,e=i[0].length!==0&&h(i);return{c(){a=R("script"),n=E("let parcelRequire;"),t=P(),e&&e.c(),o=p(),this.h()},l(s){const r=x('[data-svelte="svelte-1iq7340"]',document.head);a=G(r,"SCRIPT",{});var c=S(a);n=A(c,"let parcelRequire;"),c.forEach(u),r.forEach(u),t=C(s),e&&e.l(s),o=p(),this.h()},h(){document.title="Home"},m(s,r){_(document.head,a),_(a,n),d(s,t,r),e&&e.m(s,r),d(s,o,r),l=!0},p(s,[r]){s[0].length!==0?e?(e.p(s,r),r&1&&m(e,1)):(e=h(s),e.c(),m(e,1),e.m(o.parentNode,o)):e&&(I(),f(e,1,1,()=>{e=null}),D())},i(s){l||(m(e),l=!0)},o(s){f(e),l=!1},d(s){u(a),s&&u(t),e&&e.d(s),s&&u(o)}}}function J(i,a,n){let t=[];return H(async()=>{const l=(await g(()=>import("../chunks/peerjs.min-90eb8cad.js").then(function(r){return r.p}),["chunks/peerjs.min-90eb8cad.js","chunks/vendor-07f555be.js"])).default;let e=new l,s=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});n(0,t=[s]),e.on("open",r=>{console.log(r)}),e.on("call",r=>{r.answer(s),r.on("stream",c=>{t.map(v=>v.id).includes(c.id)||n(0,t=[...t,c])})})}),[t]}class U extends y{constructor(a){super();$(this,a,J,T,b,{})}}export{U as default};
