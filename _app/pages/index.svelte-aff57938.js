import{b as k,_ as j}from"../chunks/paths-16c013c9.js";import{S as w,i as R,s as q,j as E,m as I,o as P,x as f,u as d,v as S,e as h,t as x,k as G,l as b,J as L,c as v,a as N,g as A,d as u,n as C,b as p,H as _,f as y,w as D,A as H,r as K}from"../chunks/vendor-07f555be.js";import{G as M}from"../chunks/Gallery-4bcb3b09.js";function $(m){let s,a;return s=new M({props:{streams:m[0]}}),{c(){E(s.$$.fragment)},l(t){I(s.$$.fragment,t)},m(t,i){P(s,t,i),a=!0},p(t,i){const o={};i&1&&(o.streams=t[0]),s.$set(o)},i(t){a||(f(s.$$.fragment,t),a=!0)},o(t){d(s.$$.fragment,t),a=!1},d(t){S(s,t)}}}function T(m){let s,a,t,i,o,l,c,e=m[0].length!==0&&$(m);return{c(){s=h("link"),a=h("link"),t=h("script"),i=x("let parcelRequire;"),o=G(),e&&e.c(),l=b(),this.h()},l(r){const n=L('[data-svelte="svelte-tu3wcf"]',document.head);s=v(n,"LINK",{rel:!0,href:!0}),a=v(n,"LINK",{rel:!0,href:!0}),t=v(n,"SCRIPT",{});var g=N(t);i=A(g,"let parcelRequire;"),g.forEach(u),n.forEach(u),o=C(r),e&&e.l(r),l=b(),this.h()},h(){p(s,"rel","icon"),p(s,"href",""+(k+"/favicon.png")),p(a,"rel","manifest"),p(a,"href",""+(k+"/manifest.json")),document.title="Home"},m(r,n){_(document.head,s),_(document.head,a),_(document.head,t),_(t,i),y(r,o,n),e&&e.m(r,n),y(r,l,n),c=!0},p(r,[n]){r[0].length!==0?e?(e.p(r,n),n&1&&f(e,1)):(e=$(r),e.c(),f(e,1),e.m(l.parentNode,l)):e&&(K(),d(e,1,1,()=>{e=null}),D())},i(r){c||(f(e),c=!0)},o(r){d(e),c=!1},d(r){u(s),u(a),u(t),r&&u(o),e&&e.d(r),r&&u(l)}}}function z(m,s,a){let t=[];return H(async()=>{const o=(await j(()=>import("../chunks/peerjs.min-90eb8cad.js").then(function(e){return e.p}),["chunks/peerjs.min-90eb8cad.js","chunks/vendor-07f555be.js"])).default;let l=new o({config:{iceServers:[{urls:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"}]}}),c=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});a(0,t=[c]),l.on("open",e=>{console.log(e)}),l.on("call",e=>{e.answer(c),e.on("stream",r=>{t.map(n=>n.id).includes(r.id)||a(0,t=[...t,r])})})}),[t]}class V extends w{constructor(s){super();R(this,s,z,T,q,{})}}export{V as default};
