import{b as k,_ as j}from"../chunks/paths-16c013c9.js";import{S as w,i as R,s as q,j as E,m as I,o as P,x as m,u as d,v as x,e as h,t as G,k as L,l as b,J as N,c as v,a as S,g as A,d as u,n as C,b as p,H as _,f as y,w as D,A as H,r as K}from"../chunks/vendor-07f555be.js";import{G as M}from"../chunks/Gallery-4bcb3b09.js";function $(f){let a,r;return a=new M({props:{streams:f[0]}}),{c(){E(a.$$.fragment)},l(t){I(a.$$.fragment,t)},m(t,i){P(a,t,i),r=!0},p(t,i){const o={};i&1&&(o.streams=t[0]),a.$set(o)},i(t){r||(m(a.$$.fragment,t),r=!0)},o(t){d(a.$$.fragment,t),r=!1},d(t){x(a,t)}}}function T(f){let a,r,t,i,o,l,c,e=f[0].length!==0&&$(f);return{c(){a=h("link"),r=h("link"),t=h("script"),i=G("let parcelRequire;"),o=L(),e&&e.c(),l=b(),this.h()},l(s){const n=N('[data-svelte="svelte-tu3wcf"]',document.head);a=v(n,"LINK",{rel:!0,href:!0}),r=v(n,"LINK",{rel:!0,href:!0}),t=v(n,"SCRIPT",{});var g=S(t);i=A(g,"let parcelRequire;"),g.forEach(u),n.forEach(u),o=C(s),e&&e.l(s),l=b(),this.h()},h(){p(a,"rel","icon"),p(a,"href",""+(k+"/favicon.png")),p(r,"rel","manifest"),p(r,"href",""+(k+"/manifest.json")),document.title="Home"},m(s,n){_(document.head,a),_(document.head,r),_(document.head,t),_(t,i),y(s,o,n),e&&e.m(s,n),y(s,l,n),c=!0},p(s,[n]){s[0].length!==0?e?(e.p(s,n),n&1&&m(e,1)):(e=$(s),e.c(),m(e,1),e.m(l.parentNode,l)):e&&(K(),d(e,1,1,()=>{e=null}),D())},i(s){c||(m(e),c=!0)},o(s){d(e),c=!1},d(s){u(a),u(r),u(t),s&&u(o),e&&e.d(s),s&&u(l)}}}function J(f,a,r){let t=[];return H(async()=>{const o=(await j(()=>import("../chunks/peerjs.min-90eb8cad.js").then(function(e){return e.p}),["chunks/peerjs.min-90eb8cad.js","chunks/vendor-07f555be.js"])).default;let l=new o;l.on("open",e=>{console.log(e)});let c=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});l.on("call",e=>{e.answer(c),e.on("stream",s=>{t.map(n=>n.id).includes(s.id)||r(0,t=[...t,s])})}),r(0,t=[c])}),[t]}class z extends w{constructor(a){super();R(this,a,J,T,q,{})}}export{z as default};
