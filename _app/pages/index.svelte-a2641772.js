import{b as k,_ as j}from"../chunks/paths-16c013c9.js";import{S as w,i as R,s as q,j as E,m as I,o as P,x as m,u as d,v as S,e as h,t as x,k as G,l as b,J as L,c as g,a as N,g as A,d as u,n as C,b as p,H as _,f as y,w as D,A as H,r as K}from"../chunks/vendor-07f555be.js";import{G as M}from"../chunks/Gallery-4bcb3b09.js";function $(f){let s,r;return s=new M({props:{streams:f[0]}}),{c(){E(s.$$.fragment)},l(e){I(s.$$.fragment,e)},m(e,c){P(s,e,c),r=!0},p(e,c){const l={};c&1&&(l.streams=e[0]),s.$set(l)},i(e){r||(m(s.$$.fragment,e),r=!0)},o(e){d(s.$$.fragment,e),r=!1},d(e){S(s,e)}}}function T(f){let s,r,e,c,l,i,o,t=f[0].length!==0&&$(f);return{c(){s=h("link"),r=h("link"),e=h("script"),c=x("let parcelRequire;"),l=G(),t&&t.c(),i=b(),this.h()},l(n){const a=L('[data-svelte="svelte-tu3wcf"]',document.head);s=g(a,"LINK",{rel:!0,href:!0}),r=g(a,"LINK",{rel:!0,href:!0}),e=g(a,"SCRIPT",{});var v=N(e);c=A(v,"let parcelRequire;"),v.forEach(u),a.forEach(u),l=C(n),t&&t.l(n),i=b(),this.h()},h(){p(s,"rel","icon"),p(s,"href",""+(k+"/favicon.png")),p(r,"rel","manifest"),p(r,"href",""+(k+"/manifest.json")),document.title="Home"},m(n,a){_(document.head,s),_(document.head,r),_(document.head,e),_(e,c),y(n,l,a),t&&t.m(n,a),y(n,i,a),o=!0},p(n,[a]){n[0].length!==0?t?(t.p(n,a),a&1&&m(t,1)):(t=$(n),t.c(),m(t,1),t.m(i.parentNode,i)):t&&(K(),d(t,1,1,()=>{t=null}),D())},i(n){o||(m(t),o=!0)},o(n){d(t),o=!1},d(n){u(s),u(r),u(e),n&&u(l),t&&t.d(n),n&&u(i)}}}function z(f,s,r){let e=[];return H(async()=>{const l=(await j(()=>import("../chunks/peerjs.min-90eb8cad.js").then(function(o){return o.p}),["chunks/peerjs.min-90eb8cad.js","chunks/vendor-07f555be.js"])).default;let i=new l(void 0,{config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"}]}});i.on("open",o=>{console.log(o)}),i.on("call",o=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(t=>{r(0,e=[t]),o.answer(t),o.on("stream",n=>{e.map(a=>a.id).includes(n.id)||r(0,e=[...e,n])})})})}),[e]}class V extends w{constructor(s){super();R(this,s,z,T,q,{})}}export{V as default};
