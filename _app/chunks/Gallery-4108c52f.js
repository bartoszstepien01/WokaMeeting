import{S as p,i as b,s as k,e as _,c as g,a as w,d as f,b as d,K as h,f as j,H as O,L as H,M as R,I as V,j as S,m as A,o as K,x as v,u as y,v as L,N as M,r as W,w as q,O as z,A as B,P as N,Q as P}from"./vendor-07f555be.js";function Q(a){let e,l,s,u,r,n;return{c(){e=_("div"),l=_("video"),s=_("track"),this.h()},l(o){e=g(o,"DIV",{class:!0,style:!0});var t=w(e);l=g(t,"VIDEO",{class:!0});var c=w(l);s=g(c,"TRACK",{kind:!0}),c.forEach(f),t.forEach(f),this.h()},h(){d(s,"kind","captions"),l.autoplay=!0,l.muted=a[3],d(l,"class","w-full h-full"),d(e,"class","video-container bg-gray-700 svelte-5ldje3"),h(e,"--width",a[0]+"px"),h(e,"--height",a[1]+"px")},m(o,t){j(o,e,t),O(e,l),O(l,s),r||(n=H(u=T.call(null,l,a[2])),r=!0)},p(o,[t]){t&8&&(l.muted=o[3]),u&&R(u.update)&&t&4&&u.update.call(null,o[2]),t&1&&h(e,"--width",o[0]+"px"),t&2&&h(e,"--height",o[1]+"px")},i:V,o:V,d(o){o&&f(e),r=!1,n()}}}function T(a,e){return a.srcObject=e,{destroy(){}}}function F(a,e,l){let{width:s}=e,{height:u}=e,{stream:r}=e,{muted:n=!1}=e;return a.$$set=o=>{"width"in o&&l(0,s=o.width),"height"in o&&l(1,u=o.height),"stream"in o&&l(2,r=o.stream),"muted"in o&&l(3,n=o.muted)},[s,u,r,n]}class J extends p{constructor(e){super();b(this,e,F,Q,k,{width:0,height:1,stream:2,muted:3})}}function C(a,e,l){const s=a.slice();return s[7]=e[l],s[9]=l,s}function E(a){let e,l;return e=new J({props:{width:a[2],height:a[3],stream:a[7],muted:a[9]==0}}),{c(){S(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,u){K(e,s,u),l=!0},p(s,u){const r={};u&4&&(r.width=s[2]),u&8&&(r.height=s[3]),u&1&&(r.stream=s[7]),e.$set(r)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){y(e.$$.fragment,s),l=!1},d(s){L(e,s)}}}function U(a){let e,l,s,u,r=a[0],n=[];for(let t=0;t<r.length;t+=1)n[t]=E(C(a,r,t));const o=t=>y(n[t],1,1,()=>{n[t]=null});return{c(){e=_("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=g(t,"DIV",{id:!0,class:!0,style:!0});var c=w(e);for(let i=0;i<n.length;i+=1)n[i].l(c);c.forEach(f),this.h()},h(){d(e,"id","gallery"),d(e,"class","flex justify-center flex-wrap svelte-1kfwhla"),h(e,"--width",a[2]+"px"),h(e,"--cols",a[4])},m(t,c){j(t,e,c);for(let i=0;i<n.length;i+=1)n[i].m(e,null);a[6](e),l=!0,s||(u=M(window,"resize",a[5]),s=!0)},p(t,[c]){if(c&13){r=t[0];let i;for(i=0;i<r.length;i+=1){const m=C(t,r,i);n[i]?(n[i].p(m,c),v(n[i],1)):(n[i]=E(m),n[i].c(),v(n[i],1),n[i].m(e,null))}for(W(),i=r.length;i<n.length;i+=1)o(i);q()}(!l||c&4)&&h(e,"--width",t[2]+"px"),(!l||c&16)&&h(e,"--cols",t[4])},i(t){if(!l){for(let c=0;c<r.length;c+=1)v(n[c]);l=!0}},o(t){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)y(n[c]);l=!1},d(t){t&&f(e),z(n,t),a[6](null),s=!1,u()}}}function X(a,e,l){let{streams:s}=e,u,r,n,o;function t(){const i=[16,9],m=s.length,{width:I,height:D,cols:G}=N.largestRect(document.body.clientWidth,document.body.clientHeight,m,...i);l(2,r=I),l(3,n=D),l(4,o=G)}B(t);function c(i){P[i?"unshift":"push"](()=>{u=i,l(1,u)})}return a.$$set=i=>{"streams"in i&&l(0,s=i.streams)},a.$$.update=()=>{a.$$.dirty&1&&t()},[s,u,r,n,o,t,c]}class Z extends p{constructor(e){super();b(this,e,X,U,k,{streams:0})}}export{Z as G};
