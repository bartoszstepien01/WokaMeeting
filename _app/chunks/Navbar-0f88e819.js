import{S as Y,i as Z,s as J,e as _,c as v,a as b,d as m,b as p,K as A,f as ee,H as h,L as de,M as he,I as ce,j as N,m as I,o as U,x as w,u as $,v as j,N as G,r as me,w as ge,O as _e,A as ve,P as be,Q as pe,R as B,T as we,U as $e,V as ye,W as ke,X as Ee,Y as Te,t as Ve,k,g as Oe,n as E,h as Se,Z as Ce,_ as De}from"./vendor-7e45e1c8.js";function Ne(s){let e,r,n,f,c,t;return{c(){e=_("div"),r=_("video"),n=_("track"),this.h()},l(l){e=v(l,"DIV",{class:!0,style:!0});var a=b(e);r=v(a,"VIDEO",{class:!0});var i=b(r);n=v(i,"TRACK",{kind:!0}),i.forEach(m),a.forEach(m),this.h()},h(){p(n,"kind","captions"),r.autoplay=!0,r.muted=s[3],p(r,"class","w-full h-full rounded-xl"),p(e,"class","video-container bg-gray-700 rounded-xl svelte-5ldje3"),A(e,"--width",s[0]+"px"),A(e,"--height",s[1]+"px")},m(l,a){ee(l,e,a),h(e,r),h(r,n),c||(t=de(f=Ie.call(null,r,s[2])),c=!0)},p(l,[a]){a&8&&(r.muted=l[3]),f&&he(f.update)&&a&4&&f.update.call(null,l[2]),a&1&&A(e,"--width",l[0]+"px"),a&2&&A(e,"--height",l[1]+"px")},i:ce,o:ce,d(l){l&&m(e),c=!1,t()}}}function Ie(s,e){return s.srcObject=e,{destroy(){}}}function Ue(s,e,r){let{width:n}=e,{height:f}=e,{stream:c}=e,{muted:t=!1}=e;return s.$$set=l=>{"width"in l&&r(0,n=l.width),"height"in l&&r(1,f=l.height),"stream"in l&&r(2,c=l.stream),"muted"in l&&r(3,t=l.muted)},[n,f,c,t]}class je extends Y{constructor(e){super();Z(this,e,Ue,Ne,J,{width:0,height:1,stream:2,muted:3})}}function fe(s,e,r){const n=s.slice();return n[6]=e[r],n[8]=r,n}function ue(s){let e,r;return e=new je({props:{width:s[2],height:s[3],stream:s[6],muted:s[8]==0}}),{c(){N(e.$$.fragment)},l(n){I(e.$$.fragment,n)},m(n,f){U(e,n,f),r=!0},p(n,f){const c={};f&4&&(c.width=n[2]),f&8&&(c.height=n[3]),f&1&&(c.stream=n[6]),e.$set(c)},i(n){r||(w(e.$$.fragment,n),r=!0)},o(n){$(e.$$.fragment,n),r=!1},d(n){j(e,n)}}}function Be(s){let e,r,n,f,c=s[0],t=[];for(let a=0;a<c.length;a+=1)t[a]=ue(fe(s,c,a));const l=a=>$(t[a],1,1,()=>{t[a]=null});return{c(){e=_("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=v(a,"DIV",{id:!0,class:!0});var i=b(e);for(let o=0;o<t.length;o+=1)t[o].l(i);i.forEach(m),this.h()},h(){p(e,"id","gallery"),p(e,"class","flex justify-center items-center flex-wrap w-full h-full px-8 py-8 gap-4")},m(a,i){ee(a,e,i);for(let o=0;o<t.length;o+=1)t[o].m(e,null);s[5](e),r=!0,n||(f=G(window,"resize",s[4]),n=!0)},p(a,[i]){if(i&13){c=a[0];let o;for(o=0;o<c.length;o+=1){const u=fe(a,c,o);t[o]?(t[o].p(u,i),w(t[o],1)):(t[o]=ue(u),t[o].c(),w(t[o],1),t[o].m(e,null))}for(me(),o=c.length;o<t.length;o+=1)l(o);ge()}},i(a){if(!r){for(let i=0;i<c.length;i+=1)w(t[i]);r=!0}},o(a){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)$(t[i]);r=!1},d(a){a&&m(e),_e(t,a),s[5](null),n=!1,f()}}}function Re(s,e,r){let{streams:n}=e,f,c,t;function l(){const i=[16,9],o=n.length,{width:u,height:T}=be.largestRect(document.body.clientWidth-64-16*(o-1),document.body.clientHeight-64-64-16*(o-1),o,...i);r(2,c=u),r(3,t=T)}ve(l);function a(i){pe[i?"unshift":"push"](()=>{f=i,r(1,f)})}return s.$$set=i=>{"streams"in i&&r(0,n=i.streams)},s.$$.update=()=>{s.$$.dirty&1&&l()},[n,f,c,t,l,a]}class We extends Y{constructor(e){super();Z(this,e,Re,Be,J,{streams:0})}}function He(s){let e,r,n=s[2](s[1])+"",f,c,t,l,a,i,o,u,T,V,O,K,H,L,M,S,q,P,C,F,W,Q,x,D,z,X,te;return a=new B({props:{icon:we,color:"#ffffff",scale:1.3}}),u=new B({props:{icon:$e,color:"#ffffff",scale:1.3}}),O=new B({props:{icon:ye,color:"#ffffff",scale:1.3}}),S=new B({props:{icon:ke,color:"#ffffff",scale:1.3}}),C=new B({props:{icon:Ee,color:"#ffffff",scale:1.3}}),D=new B({props:{icon:Te,color:"#ffffff",scale:1.2}}),{c(){e=_("div"),r=_("p"),f=Ve(n),c=k(),t=_("div"),l=_("button"),N(a.$$.fragment),i=k(),o=_("button"),N(u.$$.fragment),T=k(),V=_("button"),N(O.$$.fragment),K=k(),H=_("div"),L=k(),M=_("button"),N(S.$$.fragment),q=k(),P=_("button"),N(C.$$.fragment),F=k(),W=_("div"),Q=k(),x=_("button"),N(D.$$.fragment),this.h()},l(d){e=v(d,"DIV",{class:!0});var y=b(e);r=v(y,"P",{class:!0});var ne=b(r);f=Oe(ne,n),ne.forEach(m),c=E(y),t=v(y,"DIV",{class:!0});var g=b(t);l=v(g,"BUTTON",{});var ae=b(l);I(a.$$.fragment,ae),ae.forEach(m),i=E(g),o=v(g,"BUTTON",{});var re=b(o);I(u.$$.fragment,re),re.forEach(m),T=E(g),V=v(g,"BUTTON",{class:!0});var se=b(V);I(O.$$.fragment,se),se.forEach(m),K=E(g),H=v(g,"DIV",{class:!0}),b(H).forEach(m),L=E(g),M=v(g,"BUTTON",{});var le=b(M);I(S.$$.fragment,le),le.forEach(m),q=E(g),P=v(g,"BUTTON",{});var oe=b(P);I(C.$$.fragment,oe),oe.forEach(m),F=E(g),W=v(g,"DIV",{class:!0}),b(W).forEach(m),Q=E(g),x=v(g,"BUTTON",{});var ie=b(x);I(D.$$.fragment,ie),ie.forEach(m),g.forEach(m),y.forEach(m),this.h()},h(){p(r,"class","text-white"),p(V,"class","hidden sm:block"),p(H,"class","border border-gray-500"),p(W,"class","border border-gray-500"),p(t,"class","flex ml-auto gap-5"),p(e,"class","flex w-screen bg-gray-700 h-16 px-8 items-center")},m(d,y){ee(d,e,y),h(e,r),h(r,f),h(e,c),h(e,t),h(t,l),U(a,l,null),h(t,i),h(t,o),U(u,o,null),h(t,T),h(t,V),U(O,V,null),h(t,K),h(t,H),h(t,L),h(t,M),U(S,M,null),h(t,q),h(t,P),U(C,P,null),h(t,F),h(t,W),h(t,Q),h(t,x),U(D,x,null),z=!0,X||(te=[G(l,"click",s[4]),G(o,"click",s[5]),G(V,"click",s[6])],X=!0)},p(d,[y]){(!z||y&2)&&n!==(n=d[2](d[1])+"")&&Se(f,n)},i(d){z||(w(a.$$.fragment,d),w(u.$$.fragment,d),w(O.$$.fragment,d),w(S.$$.fragment,d),w(C.$$.fragment,d),w(D.$$.fragment,d),z=!0)},o(d){$(a.$$.fragment,d),$(u.$$.fragment,d),$(O.$$.fragment,d),$(S.$$.fragment,d),$(C.$$.fragment,d),$(D.$$.fragment,d),z=!1},d(d){d&&m(e),j(a),j(u),j(O),j(S),j(C),j(D),X=!1,Ce(te)}}}var R;(function(s){s[s.Camera=0]="Camera",s[s.Screen=1]="Screen"})(R||(R={}));function Me(s,e,r){let{currentSource:n=R.Camera}=e,{time:f=0}=e;const c=(u,T)=>String(u).padStart(T,"0"),t=u=>(~~(u/60)>=60?`${c(~~(u/3600),2)}:`:"")+`${c(~~(u/60)%60,2)}:${c(u%60,2)}`,l=De(),a=()=>l("videoswitch"),i=()=>l("muteswitch"),o=()=>{r(0,n=n==R.Camera?R.Screen:R.Camera),l("sourceswitch",{source:n})};return s.$$set=u=>{"currentSource"in u&&r(0,n=u.currentSource),"time"in u&&r(1,f=u.time)},[n,f,t,l,a,i,o]}class xe extends Y{constructor(e){super();Z(this,e,Me,He,J,{currentSource:0,time:1})}}export{We as G,xe as N,R as S};
