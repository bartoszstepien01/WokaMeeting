import{S as y,i as b,s as k,e as m,c as _,a as w,d as h,b as d,U as g,f as j,H as V,V as C,W as D,I as E,j as H,m as S,o as W,x as v,u as p,v as A,R as G,r as q,w as z,X as B,A as K,Y as L,Z as M}from"./vendor-22efedaa.js";function T(i){let e,n,l,u,c,s;return{c(){e=m("div"),n=m("video"),l=m("track"),this.h()},l(o){e=_(o,"DIV",{class:!0,style:!0});var t=w(e);n=_(t,"VIDEO",{class:!0});var r=w(n);l=_(r,"TRACK",{kind:!0}),r.forEach(h),t.forEach(h),this.h()},h(){d(l,"kind","captions"),n.autoplay=!0,n.muted=i[3],d(n,"class","w-full h-full rounded-xl"),d(e,"class","video-container bg-gray-700 rounded-xl svelte-5ldje3"),g(e,"--width",i[0]+"px"),g(e,"--height",i[1]+"px")},m(o,t){j(o,e,t),V(e,n),V(n,l),c||(s=C(u=U.call(null,n,i[2])),c=!0)},p(o,[t]){t&8&&(n.muted=o[3]),u&&D(u.update)&&t&4&&u.update.call(null,o[2]),t&1&&g(e,"--width",o[0]+"px"),t&2&&g(e,"--height",o[1]+"px")},i:E,o:E,d(o){o&&h(e),c=!1,s()}}}function U(i,e){return i.srcObject=e,{destroy(){}}}function X(i,e,n){let{width:l}=e,{height:u}=e,{stream:c}=e,{muted:s=!1}=e;return i.$$set=o=>{"width"in o&&n(0,l=o.width),"height"in o&&n(1,u=o.height),"stream"in o&&n(2,c=o.stream),"muted"in o&&n(3,s=o.muted)},[l,u,c,s]}class Y extends y{constructor(e){super();b(this,e,X,T,k,{width:0,height:1,stream:2,muted:3})}}function I(i,e,n){const l=i.slice();return l[6]=e[n],l[8]=n,l}function O(i){let e,n;return e=new Y({props:{width:i[2],height:i[3],stream:i[6],muted:i[8]==0}}),{c(){H(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,u){W(e,l,u),n=!0},p(l,u){const c={};u&4&&(c.width=l[2]),u&8&&(c.height=l[3]),u&1&&(c.stream=l[6]),e.$set(c)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function Z(i){let e,n,l,u,c=i[0],s=[];for(let t=0;t<c.length;t+=1)s[t]=O(I(i,c,t));const o=t=>p(s[t],1,1,()=>{s[t]=null});return{c(){e=m("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=_(t,"DIV",{id:!0,class:!0});var r=w(e);for(let a=0;a<s.length;a+=1)s[a].l(r);r.forEach(h),this.h()},h(){d(e,"id","gallery"),d(e,"class","flex justify-center items-center flex-wrap w-full h-full px-8 py-8 gap-4")},m(t,r){j(t,e,r);for(let a=0;a<s.length;a+=1)s[a].m(e,null);i[5](e),n=!0,l||(u=G(window,"resize",i[4]),l=!0)},p(t,[r]){if(r&13){c=t[0];let a;for(a=0;a<c.length;a+=1){const f=I(t,c,a);s[a]?(s[a].p(f,r),v(s[a],1)):(s[a]=O(f),s[a].c(),v(s[a],1),s[a].m(e,null))}for(q(),a=c.length;a<s.length;a+=1)o(a);z()}},i(t){if(!n){for(let r=0;r<c.length;r+=1)v(s[r]);n=!0}},o(t){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)p(s[r]);n=!1},d(t){t&&h(e),B(s,t),i[5](null),l=!1,u()}}}function x(i,e,n){let{streams:l}=e,u,c,s;function o(){const r=[16,9],a=l.length,{width:f,height:R}=L.largestRect(document.body.clientWidth-64-16*(a-1),document.body.clientHeight-64-64-16*(a-1),a,...r);n(2,c=f),n(3,s=R)}K(o);function t(r){M[r?"unshift":"push"](()=>{u=r,n(1,u)})}return i.$$set=r=>{"streams"in r&&n(0,l=r.streams)},i.$$.update=()=>{i.$$.dirty&1&&o()},[l,u,c,s,o,t]}class J extends y{constructor(e){super();b(this,e,x,Z,k,{streams:0})}}export{J as G};
