import{S as K,i as J,s as L,e as $,c as k,a as E,d as v,b as w,f as S,H as b,M as ye,N as je,j as B,m as y,o as j,I as ie,x as V,u as I,v as G,k as O,t as F,n as P,g as q,O as te,P as R,h as Q,r as x,w as ee,Q as A,R as fe,T as oe,K as ce,A as Ge,U as Re,V as Ae,l as be,W as le,X as ve,Y as pe,Z as He,_ as We,$ as Fe,a0 as we,a1 as ue,a2 as qe,a3 as ze,D as Ke,E as Je,F as Le,G as Qe,J as se,a4 as $e,a5 as Xe}from"./vendor-c12c101d.js";function ke(a){let e,l,t,s,f;return{c(){e=$("video"),l=$("track"),this.h()},l(n){e=k(n,"VIDEO",{class:!0});var i=E(e);l=k(i,"TRACK",{kind:!0}),i.forEach(v),this.h()},h(){w(l,"kind","captions"),e.autoplay=!0,e.muted=a[3],w(e,"class","w-full h-full rounded-xl")},m(n,i){S(n,e,i),b(e,l),s||(f=ye(t=Ze.call(null,e,a[2].stream)),s=!0)},p(n,i){i&8&&(e.muted=n[3]),t&&je(t.update)&&i&4&&t.update.call(null,n[2].stream)},d(n){n&&v(e),s=!1,f()}}}function Ee(a){let e,l;return e=new A({props:{icon:fe,color:"#b91c1c",scale:1.5}}),{c(){B(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},p:ie,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Ve(a){let e,l;return e=new A({props:{icon:oe,color:"#b91c1c",scale:1.5}}),{c(){B(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},p:ie,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Ye(a){let e,l,t,s=a[2].username+"",f,n,i,r,m,d,c,u=a[2].video&&ke(a),g=!a[2].video&&Ee(),o=!a[2].audio&&Ve();return{c(){e=$("div"),u&&u.c(),l=O(),t=$("p"),f=F(s),n=O(),i=$("div"),g&&g.c(),r=O(),o&&o.c(),this.h()},l(h){e=k(h,"DIV",{class:!0,style:!0});var _=E(e);u&&u.l(_),l=P(_),t=k(_,"P",{class:!0});var p=E(t);f=q(p,s),p.forEach(v),n=P(_),i=k(_,"DIV",{class:!0});var D=E(i);g&&g.l(D),r=P(D),o&&o.l(D),D.forEach(v),_.forEach(v),this.h()},h(){w(t,"class","text-white absolute bottom-5 left-5 text-xl bg-gray-700 bg-opacity-70 px-2 py-1 rounded-md"),w(i,"class","absolute bottom-5 right-5 flex mx-2 my-1 gap-5"),w(e,"class","video-container bg-gray-700 rounded-xl relative svelte-5ldje3"),te(e,"--width",a[0]+"px"),te(e,"--height",a[1]+"px")},m(h,_){S(h,e,_),u&&u.m(e,null),b(e,l),b(e,t),b(t,f),b(e,n),b(e,i),g&&g.m(i,null),b(i,r),o&&o.m(i,null),m=!0,d||(c=R(e,"dblclick",a[4]),d=!0)},p(h,[_]){h[2].video?u?u.p(h,_):(u=ke(h),u.c(),u.m(e,l)):u&&(u.d(1),u=null),(!m||_&4)&&s!==(s=h[2].username+"")&&Q(f,s),h[2].video?g&&(x(),I(g,1,1,()=>{g=null}),ee()):g?(g.p(h,_),_&4&&V(g,1)):(g=Ee(),g.c(),V(g,1),g.m(i,r)),h[2].audio?o&&(x(),I(o,1,1,()=>{o=null}),ee()):o?(o.p(h,_),_&4&&V(o,1)):(o=Ve(),o.c(),V(o,1),o.m(i,null)),(!m||_&1)&&te(e,"--width",h[0]+"px"),(!m||_&2)&&te(e,"--height",h[1]+"px")},i(h){m||(V(g),V(o),m=!0)},o(h){I(g),I(o),m=!1},d(h){h&&v(e),u&&u.d(),g&&g.d(),o&&o.d(),d=!1,c()}}}function Ze(a,e){return a.srcObject=e,{destroy(){}}}function xe(a,e,l){let{width:t}=e,{height:s}=e,{stream:f}=e,{muted:n=!1}=e;function i(r){ce.call(this,a,r)}return a.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,s=r.height),"stream"in r&&l(2,f=r.stream),"muted"in r&&l(3,n=r.muted)},[t,s,f,n,i]}class Te extends K{constructor(e){super();J(this,e,xe,Ye,L,{width:0,height:1,stream:2,muted:3})}}function Ie(a,e,l){const t=a.slice();return t[8]=e[l],t[10]=l,t}function et(a){let e,l;return e=new Te({props:{width:a[2],height:a[3],stream:a[0][a[1]],muted:a[1]==0}}),e.$on("dblclick",a[7]),{c(){B(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},p(t,s){const f={};s&4&&(f.width=t[2]),s&8&&(f.height=t[3]),s&3&&(f.stream=t[0][t[1]]),s&2&&(f.muted=t[1]==0),e.$set(f)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function tt(a){let e,l,t=a[0],s=[];for(let n=0;n<t.length;n+=1)s[n]=De(Ie(a,t,n));const f=n=>I(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=be()},l(n){for(let i=0;i<s.length;i+=1)s[i].l(n);e=be()},m(n,i){for(let r=0;r<s.length;r+=1)s[r].m(n,i);S(n,e,i),l=!0},p(n,i){if(i&15){t=n[0];let r;for(r=0;r<t.length;r+=1){const m=Ie(n,t,r);s[r]?(s[r].p(m,i),V(s[r],1)):(s[r]=De(m),s[r].c(),V(s[r],1),s[r].m(e.parentNode,e))}for(x(),r=t.length;r<s.length;r+=1)f(r);ee()}},i(n){if(!l){for(let i=0;i<t.length;i+=1)V(s[i]);l=!0}},o(n){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)I(s[i]);l=!1},d(n){le(s,n),n&&v(e)}}}function De(a){let e,l;function t(){return a[6](a[10])}return e=new Te({props:{width:a[2],height:a[3],stream:a[8],muted:a[10]==0}}),e.$on("dblclick",t),{c(){B(e.$$.fragment)},l(s){y(e.$$.fragment,s)},m(s,f){j(e,s,f),l=!0},p(s,f){a=s;const n={};f&4&&(n.width=a[2]),f&8&&(n.height=a[3]),f&1&&(n.stream=a[8]),e.$set(n)},i(s){l||(V(e.$$.fragment,s),l=!0)},o(s){I(e.$$.fragment,s),l=!1},d(s){G(e,s)}}}function lt(a){let e,l,t,s,f,n;const i=[tt,et],r=[];function m(d,c){return d[1]==null?0:1}return l=m(a),t=r[l]=i[l](a),{c(){e=$("div"),t.c(),this.h()},l(d){e=k(d,"DIV",{id:!0,class:!0});var c=E(e);t.l(c),c.forEach(v),this.h()},h(){w(e,"id","gallery"),w(e,"class","flex justify-center items-center flex-wrap flex-1 px-8 py-8 gap-4")},m(d,c){S(d,e,c),r[l].m(e,null),s=!0,f||(n=R(window,"resize",a[4]),f=!0)},p(d,[c]){let u=l;l=m(d),l===u?r[l].p(d,c):(x(),I(r[u],1,1,()=>{r[u]=null}),ee(),t=r[l],t?t.p(d,c):(t=r[l]=i[l](d),t.c()),V(t,1),t.m(e,null))},i(d){s||(V(t),s=!0)},o(d){I(t),s=!1},d(d){d&&v(e),r[l].d(),f=!1,n()}}}function st(a,e,l){let{sidePanelVisible:t=!1}=e,{streams:s=[]}=e,f,n,i;function r(){const c=[16,9],u=f==null?s.length:1,{width:g,height:o}=Re.largestRect(document.body.clientWidth-64-16*(u-1)-document.body.clientWidth*.25*Ae(t),document.body.clientHeight-64-64-16*(u-1),u,...c);l(2,n=g),l(3,i=o)}Ge(r);const m=c=>l(1,f=c),d=()=>l(1,f=void 0);return a.$$set=c=>{"sidePanelVisible"in c&&l(5,t=c.sidePanelVisible),"streams"in c&&l(0,s=c.streams)},a.$$.update=()=>{a.$$.dirty&35&&r()},[s,f,n,i,r,t,m,d]}class _t extends K{constructor(e){super();J(this,e,st,lt,L,{sidePanelVisible:5,streams:0})}}function Oe(a){let e,l,t,s,f,n,i;return s=new A({props:{icon:qe,color:"#ffffff",scale:1.2}}),{c(){e=$("div"),l=O(),t=$("button"),B(s.$$.fragment),this.h()},l(r){e=k(r,"DIV",{class:!0}),E(e).forEach(v),l=P(r),t=k(r,"BUTTON",{});var m=E(t);y(s.$$.fragment,m),m.forEach(v),this.h()},h(){w(e,"class","border border-gray-500")},m(r,m){S(r,e,m),S(r,l,m),S(r,t,m),j(s,t,null),f=!0,n||(i=R(t,"click",a[12]),n=!0)},p:ie,i(r){f||(V(s.$$.fragment,r),f=!0)},o(r){I(s.$$.fragment,r),f=!1},d(r){r&&v(e),r&&v(l),r&&v(t),G(s),n=!1,i()}}}function nt(a){let e,l,t=a[5](a[0])+"",s,f,n,i,r,m,d,c,u,g,o,h,_,p,D,M,ne,z,W,ae,X,re,he;r=new A({props:{icon:a[2]?ve:fe,color:"#ffffff",scale:1.3}}),c=new A({props:{icon:a[3]?pe:oe,color:"#ffffff",scale:1.3}}),o=new A({props:{icon:He,color:a[4]==H.Camera?"#ffffff":"#34d399",scale:1.3}}),M=new A({props:{icon:We,color:"#ffffff",scale:1.3}}),W=new A({props:{icon:Fe,color:"#ffffff",scale:1.3}});let C=!a[1]&&Oe(a);return{c(){e=$("div"),l=$("p"),s=F(t),f=O(),n=$("div"),i=$("button"),B(r.$$.fragment),m=O(),d=$("button"),B(c.$$.fragment),u=O(),g=$("button"),B(o.$$.fragment),h=O(),_=$("div"),p=O(),D=$("button"),B(M.$$.fragment),ne=O(),z=$("button"),B(W.$$.fragment),ae=O(),C&&C.c(),this.h()},l(T){e=k(T,"DIV",{class:!0});var U=E(e);l=k(U,"P",{class:!0});var Y=E(l);s=q(Y,t),Y.forEach(v),f=P(U),n=k(U,"DIV",{class:!0});var N=E(n);i=k(N,"BUTTON",{});var Z=E(i);y(r.$$.fragment,Z),Z.forEach(v),m=P(N),d=k(N,"BUTTON",{});var de=E(d);y(c.$$.fragment,de),de.forEach(v),u=P(N),g=k(N,"BUTTON",{class:!0});var me=E(g);y(o.$$.fragment,me),me.forEach(v),h=P(N),_=k(N,"DIV",{class:!0}),E(_).forEach(v),p=P(N),D=k(N,"BUTTON",{});var _e=E(D);y(M.$$.fragment,_e),_e.forEach(v),ne=P(N),z=k(N,"BUTTON",{});var ge=E(z);y(W.$$.fragment,ge),ge.forEach(v),ae=P(N),C&&C.l(N),N.forEach(v),U.forEach(v),this.h()},h(){w(l,"class","text-white"),w(g,"class","hidden sm:block"),w(_,"class","border border-gray-500"),w(n,"class","flex ml-auto gap-5"),w(e,"class","flex w-full bg-gray-700 h-16 px-8 items-center")},m(T,U){S(T,e,U),b(e,l),b(l,s),b(e,f),b(e,n),b(n,i),j(r,i,null),b(n,m),b(n,d),j(c,d,null),b(n,u),b(n,g),j(o,g,null),b(n,h),b(n,_),b(n,p),b(n,D),j(M,D,null),b(n,ne),b(n,z),j(W,z,null),b(n,ae),C&&C.m(n,null),X=!0,re||(he=[R(i,"click",a[7]),R(d,"click",a[8]),R(g,"click",a[9]),R(D,"click",a[10]),R(z,"click",a[11])],re=!0)},p(T,[U]){(!X||U&1)&&t!==(t=T[5](T[0])+"")&&Q(s,t);const Y={};U&4&&(Y.icon=T[2]?ve:fe),r.$set(Y);const N={};U&8&&(N.icon=T[3]?pe:oe),c.$set(N);const Z={};U&16&&(Z.color=T[4]==H.Camera?"#ffffff":"#34d399"),o.$set(Z),T[1]?C&&(x(),I(C,1,1,()=>{C=null}),ee()):C?(C.p(T,U),U&2&&V(C,1)):(C=Oe(T),C.c(),V(C,1),C.m(n,null))},i(T){X||(V(r.$$.fragment,T),V(c.$$.fragment,T),V(o.$$.fragment,T),V(M.$$.fragment,T),V(W.$$.fragment,T),V(C),X=!0)},o(T){I(r.$$.fragment,T),I(c.$$.fragment,T),I(o.$$.fragment,T),I(M.$$.fragment,T),I(W.$$.fragment,T),I(C),X=!1},d(T){T&&v(e),G(r),G(c),G(o),G(M),G(W),C&&C.d(),re=!1,we(he)}}}var H;(function(a){a[a.Camera=0]="Camera",a[a.Screen=1]="Screen"})(H||(H={}));function at(a,e,l){let t=!0,s=!0,f=H.Camera,{time:n=0}=e,{peer:i=!1}=e;const r=(p,D)=>String(p).padStart(D,"0"),m=p=>(~~(p/60)>=60?`${r(~~(p/3600),2)}:`:"")+`${r(~~(p/60)%60,2)}:${r(p%60,2)}`,d=ue(),c=()=>{l(2,t=!t),d("videoswitch")},u=()=>{l(3,s=!s),d("muteswitch")},g=()=>{l(4,f=f==H.Camera?H.Screen:H.Camera),d("sourceswitch",{source:f})},o=()=>d("chatswitch"),h=()=>d("membersswitch"),_=()=>d("shareswitch");return a.$$set=p=>{"time"in p&&l(0,n=p.time),"peer"in p&&l(1,i=p.peer)},[n,i,t,s,f,m,d,c,u,g,o,h,_]}class gt extends K{constructor(e){super();J(this,e,at,nt,L,{time:0,peer:1})}}function rt(a){let e,l,t,s,f,n,i,r,m,d,c,u;i=new A({props:{icon:ze,color:"#ffffff",scale:1.3}});const g=a[4].default,o=Ke(g,a,a[3],null);return{c(){e=$("div"),l=$("div"),t=$("h1"),s=F(a[0]),f=O(),n=$("button"),B(i.$$.fragment),r=O(),o&&o.c(),this.h()},l(h){e=k(h,"DIV",{class:!0});var _=E(e);l=k(_,"DIV",{class:!0});var p=E(l);t=k(p,"H1",{class:!0});var D=E(t);s=q(D,a[0]),D.forEach(v),f=P(p),n=k(p,"BUTTON",{class:!0});var M=E(n);y(i.$$.fragment,M),M.forEach(v),p.forEach(v),r=P(_),o&&o.l(_),_.forEach(v),this.h()},h(){w(t,"class","text-3xl text-white font-semibold"),w(n,"class","block md:hidden ml-auto"),w(l,"class","flex mb-3"),w(e,"class",m=""+((a[1]?"flex":"hidden")+" flex-col w-full md:w-[25vw] h-screen bg-gray-800 border-l-0 md:border-l-2 border-gray-700 px-4 pt-3 pb-8"))},m(h,_){S(h,e,_),b(e,l),b(l,t),b(t,s),b(l,f),b(l,n),j(i,n,null),b(e,r),o&&o.m(e,null),d=!0,c||(u=R(n,"click",a[5]),c=!0)},p(h,[_]){(!d||_&1)&&Q(s,h[0]),o&&o.p&&(!d||_&8)&&Je(o,g,h,h[3],d?Qe(g,h[3],_,null):Le(h[3]),null),(!d||_&2&&m!==(m=""+((h[1]?"flex":"hidden")+" flex-col w-full md:w-[25vw] h-screen bg-gray-800 border-l-0 md:border-l-2 border-gray-700 px-4 pt-3 pb-8")))&&w(e,"class",m)},i(h){d||(V(i.$$.fragment,h),V(o,h),d=!0)},o(h){I(i.$$.fragment,h),I(o,h),d=!1},d(h){h&&v(e),G(i),o&&o.d(h),c=!1,u()}}}function it(a,e,l){let{$$slots:t={},$$scope:s}=e,{title:f}=e,{visible:n}=e;const i=ue(),r=()=>i("close");return a.$$set=m=>{"title"in m&&l(0,f=m.title),"visible"in m&&l(1,n=m.visible),"$$scope"in m&&l(3,s=m.$$scope)},[f,n,i,s,t,r]}class Pe extends K{constructor(e){super();J(this,e,it,rt,L,{title:0,visible:1})}}function Ce(a,e,l){const t=a.slice();return t[1]=e[l],t}function Ne(a,e,l){const t=a.slice();return t[10]=e[l],t}function Se(a){let e,l,t=a[10].message+"",s,f,n;return{c(){e=$("div"),l=$("p"),s=F(t),f=O(),this.h()},l(i){e=k(i,"DIV",{class:!0});var r=E(e);l=k(r,"P",{});var m=E(l);s=q(m,t),m.forEach(v),f=P(r),r.forEach(v),this.h()},h(){w(e,"class",n="flex items-center bg-gray-600 text-white rounded-b-md "+(a[1][0].me?"rounded-tl-md":"rounded-tr-md")+" flex-1 px-2 py-2")},m(i,r){S(i,e,r),b(e,l),b(l,s),b(e,f)},p(i,r){r&4&&t!==(t=i[10].message+"")&&Q(s,t),r&4&&n!==(n="flex items-center bg-gray-600 text-white rounded-b-md "+(i[1][0].me?"rounded-tl-md":"rounded-tr-md")+" flex-1 px-2 py-2")&&w(e,"class",n)},d(i){i&&v(e)}}}function Me(a){let e,l,t,s,f,n,i,r=a[1][0].author+"",m,d,c,u,g=a[1],o=[];for(let h=0;h<g.length;h+=1)o[h]=Se(Ne(a,g,h));return{c(){e=$("div"),l=$("img"),f=O(),n=$("div"),i=$("p"),m=F(r),d=O();for(let h=0;h<o.length;h+=1)o[h].c();c=O(),this.h()},l(h){e=k(h,"DIV",{class:!0});var _=E(e);l=k(_,"IMG",{src:!0,alt:!0,class:!0}),f=P(_),n=k(_,"DIV",{class:!0});var p=E(n);i=k(p,"P",{class:!0});var D=E(i);m=q(D,r),D.forEach(v),d=P(p);for(let M=0;M<o.length;M+=1)o[M].l(p);p.forEach(v),c=P(_),_.forEach(v),this.h()},h(){se(l.src,t="https://avatars.dicebear.com/api/initials/"+a[1][0].author+".svg")||w(l,"src",t),w(l,"alt",s=a[1][0].author),w(l,"class","rounded-md w-12 h-12 mt-auto"),w(i,"class","text-gray-400 text-xs"),w(n,"class","flex flex-col flex-1 gap-1"),w(e,"class",u="flex gap-2 "+(a[1][0].me?"flex-row-reverse":"flex-row"))},m(h,_){S(h,e,_),b(e,l),b(e,f),b(e,n),b(n,i),b(i,m),b(n,d);for(let p=0;p<o.length;p+=1)o[p].m(n,null);b(e,c)},p(h,_){if(_&4&&!se(l.src,t="https://avatars.dicebear.com/api/initials/"+h[1][0].author+".svg")&&w(l,"src",t),_&4&&s!==(s=h[1][0].author)&&w(l,"alt",s),_&4&&r!==(r=h[1][0].author+"")&&Q(m,r),_&4){g=h[1];let p;for(p=0;p<g.length;p+=1){const D=Ne(h,g,p);o[p]?o[p].p(D,_):(o[p]=Se(D),o[p].c(),o[p].m(n,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=g.length}_&4&&u!==(u="flex gap-2 "+(h[1][0].me?"flex-row-reverse":"flex-row"))&&w(e,"class",u)},d(h){h&&v(e),le(o,h)}}}function ft(a){let e,l,t,s,f,n,i,r,m,d=a[2],c=[];for(let u=0;u<d.length;u+=1)c[u]=Me(Ce(a,d,u));return{c(){e=$("div");for(let u=0;u<c.length;u+=1)c[u].c();l=O(),t=$("form"),s=$("input"),f=O(),n=$("button"),i=F("Send"),this.h()},l(u){e=k(u,"DIV",{class:!0});var g=E(e);for(let _=0;_<c.length;_+=1)c[_].l(g);g.forEach(v),l=P(u),t=k(u,"FORM",{class:!0});var o=E(t);s=k(o,"INPUT",{type:!0,class:!0,placeholder:!0}),f=P(o),n=k(o,"BUTTON",{class:!0});var h=E(n);i=q(h,"Send"),h.forEach(v),o.forEach(v),this.h()},h(){w(e,"class","flex flex-col h-auto flex-1 gap-6"),w(s,"type","text"),w(s,"class","w-full bg-gray-700 text-white focus:outline-none h-9 px-4 rounded-md"),w(s,"placeholder","Aa"),w(n,"class","text-white bg-blue-600 px-4 rounded-md"),w(t,"class","flex gap-2")},m(u,g){S(u,e,g);for(let o=0;o<c.length;o+=1)c[o].m(e,null);S(u,l,g),S(u,t,g),b(t,s),$e(s,a[3]),b(t,f),b(t,n),b(n,i),r||(m=[R(s,"input",a[5]),R(t,"submit",Xe(a[6]))],r=!0)},p(u,g){if(g&4){d=u[2];let o;for(o=0;o<d.length;o+=1){const h=Ce(u,d,o);c[o]?c[o].p(h,g):(c[o]=Me(h),c[o].c(),c[o].m(e,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=d.length}g&8&&s.value!==u[3]&&$e(s,u[3])},d(u){u&&v(e),le(c,u),u&&v(l),u&&v(t),r=!1,we(m)}}}function ot(a){let e,l;return e=new Pe({props:{title:"Chat",visible:a[0],$$slots:{default:[ft]},$$scope:{ctx:a}}}),e.$on("close",a[7]),{c(){B(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},p(t,[s]){const f={};s&1&&(f.visible=t[0]),s&8204&&(f.$$scope={dirty:s,ctx:t}),e.$set(f)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function ct(a,e,l){const t=ue();let{visible:s=!1}=e,{messages:f=[]}=e,n="",i=[];function r(){n=this.value,l(3,n)}const m=()=>{t("messagesend",{message:n}),l(3,n="")};function d(c){ce.call(this,a,c)}return a.$$set=c=>{"visible"in c&&l(0,s=c.visible),"messages"in c&&l(1,f=c.messages)},a.$$.update=()=>{if(a.$$.dirty&6){let c=[];l(2,i=[]),f.forEach(u=>{if(c.length==0||c[c.length-1]!=u.id){c.push(u.id),i.push([u]);return}i[i.length-1].push(u)}),l(2,i=[...i])}},[s,f,i,n,t,r,m,d]}class bt extends K{constructor(e){super();J(this,e,ct,ot,L,{visible:0,messages:1})}}function Ue(a,e,l){const t=a.slice();return t[3]=e[l],t}function Be(a){let e,l,t,s,f,n,i=a[3].username+"",r,m;return{c(){e=$("div"),l=$("img"),f=O(),n=$("p"),r=F(i),m=O(),this.h()},l(d){e=k(d,"DIV",{class:!0});var c=E(e);l=k(c,"IMG",{src:!0,alt:!0,class:!0}),f=P(c),n=k(c,"P",{class:!0});var u=E(n);r=q(u,i),u.forEach(v),m=P(c),c.forEach(v),this.h()},h(){se(l.src,t="https://avatars.dicebear.com/api/initials/"+a[3].username+".svg")||w(l,"src",t),w(l,"alt",s=a[3].username),w(l,"class","rounded-md w-12 h-12 mt-auto"),w(n,"class","text-white"),w(e,"class","flex gap-2 flex-row items-center")},m(d,c){S(d,e,c),b(e,l),b(e,f),b(e,n),b(n,r),b(e,m)},p(d,c){c&2&&!se(l.src,t="https://avatars.dicebear.com/api/initials/"+d[3].username+".svg")&&w(l,"src",t),c&2&&s!==(s=d[3].username)&&w(l,"alt",s),c&2&&i!==(i=d[3].username+"")&&Q(r,i)},d(d){d&&v(e)}}}function ut(a){let e,l=a[1],t=[];for(let s=0;s<l.length;s+=1)t[s]=Be(Ue(a,l,s));return{c(){e=$("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var f=E(e);for(let n=0;n<t.length;n+=1)t[n].l(f);f.forEach(v),this.h()},h(){w(e,"class","flex flex-col h-auto flex-1 gap-4 mt-2")},m(s,f){S(s,e,f);for(let n=0;n<t.length;n+=1)t[n].m(e,null)},p(s,f){if(f&2){l=s[1];let n;for(n=0;n<l.length;n+=1){const i=Ue(s,l,n);t[n]?t[n].p(i,f):(t[n]=Be(i),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(s){s&&v(e),le(t,s)}}}function ht(a){let e,l;return e=new Pe({props:{title:"Participants",visible:a[0],$$slots:{default:[ut]},$$scope:{ctx:a}}}),e.$on("close",a[2]),{c(){B(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},p(t,[s]){const f={};s&1&&(f.visible=t[0]),s&66&&(f.$$scope={dirty:s,ctx:t}),e.$set(f)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function dt(a,e,l){let{visible:t}=e,{users:s}=e;function f(n){ce.call(this,a,n)}return a.$$set=n=>{"visible"in n&&l(0,t=n.visible),"users"in n&&l(1,s=n.users)},[t,s,f]}class vt extends K{constructor(e){super();J(this,e,dt,ht,L,{visible:0,users:1})}}export{bt as C,_t as G,vt as M,gt as N,Pe as P,H as S};
