import{_ as g}from"../chunks/preload-helper-257aa4c1.js";import{S as y,i as $,s as k,j,m as w,o as q,x as f,u as m,v as R,e as E,t as P,k as b,l as p,J as x,c as G,a as S,g as A,d as u,n as C,H as _,f as d,w as D,A as H,r as I}from"../chunks/vendor-5dfe71dc.js";import{G as M}from"../chunks/Gallery-df3fa11a.js";function h(i){let a,n;return a=new M({props:{streams:i[0]}}),{c(){j(a.$$.fragment)},l(t){w(a.$$.fragment,t)},m(t,o){q(a,t,o),n=!0},p(t,o){const l={};o&1&&(l.streams=t[0]),a.$set(l)},i(t){n||(f(a.$$.fragment,t),n=!0)},o(t){m(a.$$.fragment,t),n=!1},d(t){R(a,t)}}}function T(i){let a,n,t,o,l,e=i[0].length!==0&&h(i);return{c(){a=E("script"),n=P("let parcelRequire;"),t=b(),e&&e.c(),o=p(),this.h()},l(s){const r=x('[data-svelte="svelte-1iq7340"]',document.head);a=G(r,"SCRIPT",{});var c=S(a);n=A(c,"let parcelRequire;"),c.forEach(u),r.forEach(u),t=C(s),e&&e.l(s),o=p(),this.h()},h(){document.title="Home"},m(s,r){_(document.head,a),_(a,n),d(s,t,r),e&&e.m(s,r),d(s,o,r),l=!0},p(s,[r]){s[0].length!==0?e?(e.p(s,r),r&1&&f(e,1)):(e=h(s),e.c(),f(e,1),e.m(o.parentNode,o)):e&&(I(),m(e,1,1,()=>{e=null}),D())},i(s){l||(f(e),l=!0)},o(s){m(e),l=!1},d(s){u(a),s&&u(t),e&&e.d(s),s&&u(o)}}}function J(i,a,n){let t=[];return H(async()=>{const l=(await g(()=>import("../chunks/peerjs.min-13412648.js").then(function(r){return r.p}),["chunks/peerjs.min-13412648.js","chunks/vendor-5dfe71dc.js"])).default;let e=new l,s=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});n(0,t=[s]),e.on("open",r=>{console.log(r)}),e.on("call",r=>{r.answer(s),r.on("stream",c=>{t.map(v=>v.id).includes(c.id)||n(0,t=[...t,c])})})}),[t]}class U extends y{constructor(a){super();$(this,a,J,T,k,{})}}export{U as default};
